[{"RoleName": "180-BulkDeliverySSM", "Policies": {"AmazonSSMManagedInstanceCore": [{"Effect": "Allow", "Action": ["ssm:DescribeAssociation", "ssm:GetDeployablePatchSnapshotForInstance", "ssm:GetDocument", "ssm:DescribeDocument", "ssm:GetManifest", "ssm:GetParameter", "ssm:GetParameters", "ssm:ListAssociations", "ssm:ListInstanceAssociations", "ssm:PutInventory", "ssm:PutComplianceItems", "ssm:PutConfigurePackageResult", "ssm:UpdateAssociationStatus", "ssm:UpdateInstanceAssociationStatus", "ssm:UpdateInstanceInformation"], "Resource": "*"}, {"Effect": "Allow", "Action": ["ssmmessages:CreateControlChannel", "ssmmessages:CreateDataChannel", "ssmmessages:OpenControlChannel", "ssmmessages:OpenDataChannel"], "Resource": "*"}, {"Effect": "Allow", "Action": ["ec2messages:AcknowledgeMessage", "ec2messages:DeleteMessage", "ec2messages:FailMessage", "ec2messages:GetEndpoint", "ec2messages:GetMessages", "ec2messages:SendReply"], "Resource": "*"}]}}, {"RoleName": "2269-cloudwatch-exporter-role", "Policies": {"2269-cloudwatch-exporter-role-custom-policy": [{"Effect": "Allow", "Action": ["tag:GetResources", "cloudwatch:ListMetrics", "cloudwatch:GetMetricStatistics"], "Resource": "*"}]}}, {"RoleName": "2269-dev-searchplatform-iam-role", "Policies": {"AmazonEKSClusterPolicy": [{"Effect": "Allow", "Action": ["autoscaling:DescribeAutoScalingGroups", "autoscaling:UpdateAutoScalingGroup", "ec2:AttachVolume", "ec2:AuthorizeSecurityGroupIngress", "ec2:CreateRoute", "ec2:CreateSecurityGroup", "ec2:CreateTags", "ec2:CreateVolume", "ec2:DeleteRoute", "ec2:DeleteSecurityGroup", "ec2:DeleteVolume", "ec2:DescribeInstances", "ec2:DescribeRouteTables", "ec2:DescribeSecurityGroups", "ec2:DescribeSubnets", "ec2:DescribeVolumes", "ec2:DescribeVolumesModifications", "ec2:DescribeVpcs", "ec2:DescribeDhcpOptions", "ec2:DetachVolume", "ec2:ModifyInstanceAttribute", "ec2:ModifyVolume", "ec2:RevokeSecurityGroupIngress", "elasticloadbalancing:AddTags", "elasticloadbalancing:ApplySecurityGroupsToLoadBalancer", "elasticloadbalancing:AttachLoadBalancerToSubnets", "elasticloadbalancing:ConfigureHealthCheck", "elasticloadbalancing:CreateListener", "elasticloadbalancing:CreateLoadBalancer", "elasticloadbalancing:CreateLoadBalancerListeners", "elasticloadbalancing:CreateLoadBalancerPolicy", "elasticloadbalancing:CreateTargetGroup", "elasticloadbalancing:DeleteListener", "elasticloadbalancing:DeleteLoadBalancer", "elasticloadbalancing:DeleteLoadBalancerListeners", "elasticloadbalancing:DeleteTargetGroup", "elasticloadbalancing:DeregisterInstancesFromLoadBalancer", "elasticloadbalancing:DeregisterTargets", "elasticloadbalancing:DescribeListeners", "elasticloadbalancing:DescribeLoadBalancerAttributes", "elasticloadbalancing:DescribeLoadBalancerPolicies", "elasticloadbalancing:DescribeLoadBalancers", "elasticloadbalancing:DescribeTargetGroupAttributes", "elasticloadbalancing:DescribeTargetGroups", "elasticloadbalancing:DescribeTargetHealth", "elasticloadbalancing:DetachLoadBalancerFromSubnets", "elasticloadbalancing:ModifyListener", "elasticloadbalancing:ModifyLoadBalancerAttributes", "elasticloadbalancing:ModifyTargetGroup", "elasticloadbalancing:ModifyTargetGroupAttributes", "elasticloadbalancing:RegisterInstancesWithLoadBalancer", "elasticloadbalancing:RegisterTargets", "elasticloadbalancing:SetLoadBalancerPoliciesForBackendServer", "elasticloadbalancing:SetLoadBalancerPoliciesOfListener", "kms:DescribeKey"], "Resource": "*"}, {"Effect": "Allow", "Action": "iam:CreateServiceLinkedRole", "Resource": "*", "Condition": {"StringLike": {"iam:AWSServiceName": "elasticloadbalancing.amazonaws.com"}}}], "AmazonSSMManagedInstanceCore": [{"Effect": "Allow", "Action": ["ssm:DescribeAssociation", "ssm:GetDeployablePatchSnapshotForInstance", "ssm:GetDocument", "ssm:DescribeDocument", "ssm:GetManifest", "ssm:GetParameter", "ssm:GetParameters", "ssm:ListAssociations", "ssm:ListInstanceAssociations", "ssm:PutInventory", "ssm:PutComplianceItems", "ssm:PutConfigurePackageResult", "ssm:UpdateAssociationStatus", "ssm:UpdateInstanceAssociationStatus", "ssm:UpdateInstanceInformation"], "Resource": "*"}, {"Effect": "Allow", "Action": ["ssmmessages:CreateControlChannel", "ssmmessages:CreateDataChannel", "ssmmessages:OpenControlChannel", "ssmmessages:OpenDataChannel"], "Resource": "*"}, {"Effect": "Allow", "Action": ["ec2messages:AcknowledgeMessage", "ec2messages:DeleteMessage", "ec2messages:FailMessage", "ec2messages:GetEndpoint", "ec2messages:GetMessages", "ec2messages:SendReply"], "Resource": "*"}], "AmazonEKSServicePolicy": [{"Effect": "Allow", "Action": ["ec2:CreateNetworkInterface", "ec2:CreateNetworkInterfacePermission", "ec2:DeleteNetworkInterface", "ec2:DescribeInstances", "ec2:DescribeNetworkInterfaces", "ec2:DescribeSecurityGroups", "ec2:DescribeSubnets", "ec2:DescribeVpcs", "ec2:ModifyNetworkInterfaceAttribute", "iam:ListAttachedRolePolicies", "eks:UpdateClusterVersion"], "Resource": "*"}, {"Effect": "Allow", "Action": ["ec2:CreateTags", "ec2:DeleteTags"], "Resource": ["arn:aws:ec2:*:*:vpc/*", "arn:aws:ec2:*:*:subnet/*"]}, {"Effect": "Allow", "Action": "route53:AssociateVPCWithHostedZone", "Resource": "*"}, {"Effect": "Allow", "Action": "logs:CreateLogGroup", "Resource": "*"}, {"Effect": "Allow", "Action": ["logs:CreateLogStream", "logs:DescribeLogStreams"], "Resource": "arn:aws:logs:*:*:log-group:/aws/eks/*:*"}, {"Effect": "Allow", "Action": "logs:PutLogEvents", "Resource": "arn:aws:logs:*:*:log-group:/aws/eks/*:*:*"}], "2269-dev-searchplatform-cloudwatch-policy": [{"Action": ["logs:CreateLogStream", "logs:PutLogEvents"], "Resource": ["*"], "Effect": "Allow"}]}}, {"RoleName": "2269-dev-searchplatform-node-role", "Policies": {"AmazonEKSWorkerNodePolicy": [{"Action": ["ec2:DescribeInstances", "ec2:DescribeRouteTables", "ec2:DescribeSecurityGroups", "ec2:DescribeSubnets", "ec2:DescribeVolumes", "ec2:DescribeVolumesModifications", "ec2:DescribeVpcs", "eks:DescribeCluster"], "Resource": "*", "Effect": "Allow"}], "AmazonEC2ContainerRegistryReadOnly": [{"Effect": "Allow", "Action": ["ecr:GetAuthorizationToken", "ecr:BatchCheckLayerAvailability", "ecr:GetDownloadUrlForLayer", "ecr:GetRepositoryPolicy", "ecr:DescribeRepositories", "ecr:ListImages", "ecr:DescribeImages", "ecr:BatchGetImage", "ecr:GetLifecyclePolicy", "ecr:GetLifecyclePolicyPreview", "ecr:ListTagsForResource", "ecr:DescribeImageScanFindings"], "Resource": "*"}], "AmazonSSMManagedInstanceCore": [{"Effect": "Allow", "Action": ["ssm:DescribeAssociation", "ssm:GetDeployablePatchSnapshotForInstance", "ssm:GetDocument", "ssm:DescribeDocument", "ssm:GetManifest", "ssm:GetParameter", "ssm:GetParameters", "ssm:ListAssociations", "ssm:ListInstanceAssociations", "ssm:PutInventory", "ssm:PutComplianceItems", "ssm:PutConfigurePackageResult", "ssm:UpdateAssociationStatus", "ssm:UpdateInstanceAssociationStatus", "ssm:UpdateInstanceInformation"], "Resource": "*"}, {"Effect": "Allow", "Action": ["ssmmessages:CreateControlChannel", "ssmmessages:CreateDataChannel", "ssmmessages:OpenControlChannel", "ssmmessages:OpenDataChannel"], "Resource": "*"}, {"Effect": "Allow", "Action": ["ec2messages:AcknowledgeMessage", "ec2messages:DeleteMessage", "ec2messages:FailMessage", "ec2messages:GetEndpoint", "ec2messages:GetMessages", "ec2messages:SendReply"], "Resource": "*"}], "AmazonEKS_CNI_Policy": [{"Effect": "Allow", "Action": ["ec2:AssignPrivateIpAddresses", "ec2:AttachNetworkInterface", "ec2:CreateNetworkInterface", "ec2:DeleteNetworkInterface", "ec2:DescribeInstances", "ec2:DescribeTags", "ec2:DescribeNetworkInterfaces", "ec2:DetachNetworkInterface", "ec2:ModifyNetworkInterfaceAttribute", "ec2:UnassignPrivateIpAddresses"], "Resource": "*"}, {"Effect": "Allow", "Action": ["ec2:CreateTags"], "Resource": ["arn:aws:ec2:*:*:network-interface/*"]}], "2269-dev-searchplatform-node-default-policy": [{"Action": ["logs:CreateLogStream", "logs:PutLogEvents"], "Resource": ["*"], "Effect": "Allow"}, {"Action": ["sts:AssumeRole"], "Resource": ["arn:aws:iam::688136498438:role/2269-*", "arn:aws:iam::169239262060:role/2269-*", "arn:aws:iam::688136498438:role/2624-shared-*"], "Effect": "Allow"}, {"Action": ["acm:ListCertificates", "acm:GetCertificates", "acm:DescribeCertificate"], "Resource": ["*"], "Effect": "Allow"}, {"Action": ["iam:GetServerCertificate", "iam:ListServerCertificates", "iam:CreateServiceLinkedRole"], "Resource": ["*"], "Effect": "Allow"}, {"Action": ["ec2:AuthorizeSecurityGroupIngress", "ec2:CreateSecurityGroup", "ec2:CreateTags", "ec2:DeleteSecurityGroup", "ec2:DescribeInstances", "ec2:DescribeInstanceStatus", "ec2:DescribeSecurityGroups", "ec2:DescribeSubnets", "ec2:DescribeTags", "ec2:DescribeVpcs", "ec2:ModifyInstanceAttribute", "ec2:RevokeSecurityGroupIngress", "ec2:DeleteTags", "ec2:DescribeAccountAttributes", "ec2:DescribeAddresses", "ec2:DescribeInternetGateways", "ec2:ModifyNetworkInterfaceAttribute", "ec2:CreateKeyPair"], "Resource": ["*"], "Effect": "Allow"}, {"Action": ["elasticloadbalancing:AddListenerCertificates", "elasticloadbalancing:AddTags", "elasticloadbalancing:CreateListener", "elasticloadbalancing:CreateLoadBalancer", "elasticloadbalancing:CreateRule", "elasticloadbalancing:CreateTargetGroup", "elasticloadbalancing:DeleteListener", "elasticloadbalancing:DeleteLoadBalancer", "elasticloadbalancing:DeleteRule", "elasticloadbalancing:DeleteTargetGroup", "elasticloadbalancing:DeregisterTargets", "elasticloadbalancing:DescribeListenerCertificates", "elasticloadbalancing:DescribeListeners", "elasticloadbalancing:DescribeLoadBalancers", "elasticloadbalancing:DescribeLoadBalancerAttributes", "elasticloadbalancing:DescribeRules", "elasticloadbalancing:DescribeSSLPolicies", "elasticloadbalancing:DescribeTags", "elasticloadbalancing:DescribeTargetGroups", "elasticloadbalancing:DescribeTargetGroupAttributes", "elasticloadbalancing:DescribeTargetHealth", "elasticloadbalancing:ModifyListener", "elasticloadbalancing:ModifyLoadBalancerAttributes", "elasticloadbalancing:ModifyRule", "elasticloadbalancing:ModifyTargetGroup", "elasticloadbalancing:ModifyTargetGroupAttributes", "elasticloadbalancing:RegisterTargets", "elasticloadbalancing:RemoveListenerCertificates", "elasticloadbalancing:RemoveTags", "elasticloadbalancing:SetIpAddressType", "elasticloadbalancing:SetSecurityGroups", "elasticloadbalancing:SetSubnets", "elasticloadbalancing:SetWebACL"], "Resource": ["*"], "Effect": "Allow"}, {"Action": ["tag:GetResources", "tag:TagResources"], "Resource": ["*"], "Effect": "Allow"}, {"Action": ["waf:GetWebACL", "waf:AssociateWebACL", "waf:DisassociateWebACL"], "Resource": ["*"], "Effect": "Allow"}, {"Action": ["waf-regional:GetWebACLForResource", "waf-regional:GetWebACLForResource", "waf-regional:GetWebACL", "waf-regional:AssociateWebACL", "waf-regional:DisassociateWebAC"], "Resource": ["*"], "Effect": "Allow"}, {"Action": ["logs:CreateLogStream", "logs:PutLogEvents"], "Resource": ["*"], "Effect": "Allow"}, {"Action": ["route53:*"], "Resource": ["*"], "Effect": "Allow"}]}}, {"RoleName": "2269-ingestion-datalake-role", "Policies": {"2269-ingestion-datalake-role-custom-policy": [{"Effect": "Allow", "Action": ["cloudwatch:PutMetricData"], "Resource": "*"}, {"Effect": "Allow", "Action": ["s3:ListBucket", "s3:ListBucketMultipartUploads"], "Resource": ["arn:aws:s3:::release-dl-object-store-*", "arn:aws:s3:::staging-dl-object-store-*", "arn:aws:s3:::release-dl-object-staging-*", "arn:aws:s3:::staging-dl-object-staging-*", "arn:aws:s3:::lng-dev-searchplatform-notebook-store", "arn:aws:s3:::searchplatform", "arn:aws:s3:::dev-searchplatform-*"]}, {"Effect": "Allow", "Action": ["s3:GetObject", "s3:GetObjectAcl", "s3:ListMultipartUploadParts", "s3:AbortMultipartUpload"], "Resource": ["arn:aws:s3:::release-dl-object-store-*/*", "arn:aws:s3:::staging-dl-object-store-*/*", "arn:aws:s3:::release-dl-object-staging-*/*", "arn:aws:s3:::staging-dl-object-staging-*/*", "arn:aws:s3:::lng-dev-searchplatform-notebook-store/*", "arn:aws:s3:::searchplatform/*", "arn:aws:s3:::dev-searchplatform-*/*"]}, {"Effect": "Allow", "Action": ["s3:PutObject"], "Resource": ["arn:aws:s3:::release-dl-object-staging-*/*", "arn:aws:s3:::staging-dl-object-staging-*/*", "arn:aws:s3:::lng-dev-searchplatform-notebook-store/*", "arn:aws:s3:::searchplatform/*", "arn:aws:s3:::dev-searchplatform-*/*"]}, {"Effect": "Allow", "Action": ["s3:GetEncryptionConfiguration", "s3:GetBucketAcl", "s3:GetBucketLocation", "s3:GetBucketPolicy", "s3:GetBucketPolicyStatus", "s3:GetLifecycleConfiguration", "s3:PutLifecycleConfiguration"], "Resource": ["arn:aws:s3:::lng-dev-searchplatform-notebook-store", "arn:aws:s3:::searchplatform", "arn:aws:s3:::dev-searchplatform-*"]}, {"Effect": "Allow", "Action": ["s3:PutObjectAcl"], "Resource": ["arn:aws:s3:::lng-dev-searchplatform-notebook-store/*", "arn:aws:s3:::searchplatform/*", "arn:aws:s3:::dev-searchplatform-*/*"]}, {"Effect": "Allow", "Action": ["kinesis:DescribeLimits", "kinesis:DescribeStream", "kinesis:DescribeStreamConsumer", "kinesis:DescribeStreamSummary", "kinesis:GetRecords", "kinesis:GetShardIterator", "kinesis:ListShards", "kinesis:ListStreamConsumers", "kinesis:RegisterStreamConsumer", "kinesis:SubscribeToShard"], "Resource": ["arn:aws:kinesis:us-east-1:688136498438:stream/2269-*"]}, {"Effect": "Allow", "Action": ["dynamodb:ConditionCheck", "dynamodb:DescribeLimits", "dynamodb:DescribeReservedCapacity", "dynamodb:DescribeTable", "dynamodb:DescribeStream", "dynamodb:DescribeTimeToLive", "dynamodb:GetItem", "dynamodb:GetRecords", "dynamodb:GetShardIterator", "dynamodb:BatchGetItem", "dynamodb:PutItem", "dynamodb:UpdateItem", "dynamodb:BatchWriteItem", "dynamodb:ConditionCheckItem", "dynamodb:ListTables", "dynamodb:CreateTable", "dynamodb:ListStreams", "dynamodb:UpdateTable", "dynamodb:UpdateTimeToLive", "dynamodb:Scan", "dynamodb:Query"], "Resource": ["arn:aws:dynamodb:*:688136498438:table/2269-*"]}]}}, {"RoleName": "2269-ingestion-parquet-role", "Policies": {"2269-ingestion-parquet-role-custom-policy": [{"Effect": "Allow", "Action": ["s3:ListBucket", "s3:ListBucketMultipartUploads"], "Resource": ["arn:aws:s3:::release-dl-object-store-*", "arn:aws:s3:::staging-dl-object-store-*", "arn:aws:s3:::release-dl-object-staging-*", "arn:aws:s3:::staging-dl-object-staging-*", "arn:aws:s3:::lng-dev-searchplatform-notebook-store", "arn:aws:s3:::searchplatform", "arn:aws:s3:::dev-searchplatform-*"]}, {"Effect": "Allow", "Action": ["s3:GetObject", "s3:GetObjectAcl", "s3:ListMultipartUploadParts", "s3:AbortMultipartUpload"], "Resource": ["arn:aws:s3:::release-dl-object-store-*/*", "arn:aws:s3:::staging-dl-object-store-*/*", "arn:aws:s3:::release-dl-object-staging-*/*", "arn:aws:s3:::staging-dl-object-staging-*/*", "arn:aws:s3:::lng-dev-searchplatform-notebook-store/*", "arn:aws:s3:::searchplatform/*", "arn:aws:s3:::dev-searchplatform-*/*"]}, {"Effect": "Allow", "Action": ["s3:PutObject"], "Resource": ["arn:aws:s3:::release-dl-object-staging-*/*", "arn:aws:s3:::staging-dl-object-staging-*/*", "arn:aws:s3:::lng-dev-searchplatform-notebook-store/*", "arn:aws:s3:::searchplatform/*", "arn:aws:s3:::dev-searchplatform-*/*"]}, {"Effect": "Allow", "Action": ["s3:PutObject"], "Resource": ["arn:aws:s3:::release-dl-object-staging-*/*", "arn:aws:s3:::staging-dl-object-staging-*/*", "arn:aws:s3:::lng-dev-searchplatform-notebook-store/*", "arn:aws:s3:::searchplatform/*", "arn:aws:s3:::dev-searchplatform-*/*"]}, {"Effect": "Allow", "Action": ["s3:GetEncryptionConfiguration", "s3:GetBucketAcl", "s3:GetBucketLocation", "s3:GetBucketPolicy", "s3:GetBucketPolicyStatus", "s3:GetLifecycleConfiguration"], "Resource": ["arn:aws:s3:::release-dl-object-store-*", "arn:aws:s3:::staging-dl-object-store-*", "arn:aws:s3:::release-dl-object-staging-*", "arn:aws:s3:::staging-dl-object-staging-*", "arn:aws:s3:::lng-dev-searchplatform-notebook-store", "arn:aws:s3:::searchplatform", "arn:aws:s3:::dev-searchplatform-*"]}, {"Effect": "Allow", "Action": ["s3:PutLifecycleConfiguration"], "Resource": ["arn:aws:s3:::lng-dev-searchplatform-notebook-store", "arn:aws:s3:::searchplatform", "arn:aws:s3:::dev-searchplatform-*"]}, {"Effect": "Allow", "Action": ["s3:PutObjectAcl"], "Resource": ["arn:aws:s3:::lng-dev-searchplatform-notebook-store/*", "arn:aws:s3:::searchplatform/*", "arn:aws:s3:::dev-searchplatform-*/*"]}]}}, {"RoleName": "2269-jenkins", "Policies": {"2269-jenkins-custom-policy": [{"Sid": "S3BackupAccess", "Effect": "Allow", "Action": ["s3:*"], "Resource": ["arn:aws:s3:::2269-jenkins-dev-main/*", "arn:aws:s3:::2269-jenkins-dev-main", "arn:aws:s3:::ln.template.dev", "arn:aws:s3:::ln.template.dev/*", "arn:aws:s3:::dev-searchplatform-content", "arn:aws:s3:::dev-searchplatform-content/*"]}, {"Sid": "ECRRegistryAccess", "Effect": "Allow", "Action": ["ecr:*"], "Resource": ["arn:aws:ecr:*:688136498438:repository/2624-pecs-builder", "arn:aws:ecr:*:688136498438:repository/2624-jenkins-jnlp", "arn:aws:ecr:*:688136498438:repository/2269*"]}, {"Sid": "ECRRegistriesTokenAuth", "Effect": "Allow", "Action": ["ecr:GetAuthorizationToken", "ecr:CreateRepository"], "Resource": ["*"]}, {"Sid": "KMSAccess", "Effect": "Allow", "Action": ["kms:ListKeys", "kms:ListAliases", "kms:DescribeKey", "kms:ListKeyPolicies", "kms:GetKeyPolicy", "kms:GetKeyRotationStatus", "kms:Encrypt", "kms:Decrypt"], "Resource": "*"}, {"Sid": "LDAPSecret", "Effect": "Allow", "Action": ["secretsmanager:GetResourcePolicy", "secretsmanager:GetSecretValue", "secretsmanager:DescribeSecret", "secretsmanager:ListSecretVersionIds", "secretsmanager:GetRandomPassword", "secretsmanager:ListSecrets"], "Resource": "arn:aws:secretsmanager:*:688136498438:secret:/2624/pecs/ldap_account_info*"}, {"Sid": "SecretManager", "Effect": "Allow", "Action": ["secretsmanager:CancelRotateSecret", "secretsmanager:CreateSecret", "secretsmanager:DescribeSecret", "secretsmanager:GetRandomPassword", "secretsmanager:GetResourcePolicy", "secretsmanager:GetSecretValue", "secretsmanager:ListSecrets", "secretsmanager:ListSecretVersionIds", "secretsmanager:PutSecretValue", "secretsmanager:RestoreSecret", "secretsmanager:RotateSecret", "secretsmanager:TagResource", "secretsmanager:UntagResource", "secretsmanager:UpdateSecret", "secretsmanager:UpdateSecretVersionStage"], "Resource": ["arn:aws:secretsmanager:*:688136498438:secret:2269/*", "arn:aws:secretsmanager:*:688136498438:secret:/2269/*"]}, {"Sid": "EKSClusterAccess", "Effect": "Allow", "Action": ["eks:DescribeCluster", "eks:ListClusters"], "Resource": "arn:aws:eks:*:688136498438:cluster/2269-dev-searchplatform"}, {"Sid": "CloudformationAccess", "Effect": "Allow", "Action": ["cloudformation:CreateStack", "cloudformation:UpdateStack", "cloudformation:DescribeStacks", "cloudformation:DescribeChangeSet", "cloudformation:CreateChangeSet", "cloudformation:ExecuteChangeSet", "cloudformation:GetTemplateSummary"], "Resource": ["arn:aws:cloudformation:*:688136498438:stack/dev-search-platform-2269-*", "arn:aws:cloudformation:*:aws:transform/Serverless-2016-10-31"]}, {"Sid": "IAMAccess", "Effect": "Allow", "Action": ["iam:GetRole", "iam:PassRole", "iam:GetRolePolicy"], "Resource": ["arn:aws:iam::688136498438:role/2269-*"]}, {"Sid": "DynamoDbAccess", "Effect": "Allow", "Action": ["dynamodb:DescribeTable", "dynamodb:CreateTable", "dynamodb:UpdateTable", "dynamodb:DeleteTable"], "Resource": ["arn:aws:dynamodb:*:688136498438:table/2269-*"]}, {"Sid": "KinesisStreamAccess", "Effect": "Allow", "Action": ["kinesis:CreateStream", "kinesis:AddTagsToStream", "kinesis:ListStreams", "kinesis:DeleteStream", "kinesis:DescribeStream", "kinesis:DescribeStreamSummary", "kinesis:DecreaseStreamRetentionPeriod", "kinesis:UpdateShardCount", "kinesis:ListShards"], "Resource": ["arn:aws:kinesis:*:688136498438:stream/2269-*"]}, {"Sid": "KinesisStreamMonitoring", "Effect": "Allow", "Action": ["kinesis:EnableEnhancedMonitoring", "kinesis:DisableEnhancedMonitoring"], "Resource": ["*"]}, {"Sid": "LambdaAccess", "Effect": "Allow", "Action": ["lambda:GetFunction", "lambda:GetPolicy", "lambda:CreateFunction", "lambda:DeleteFunction", "lambda:UpdateFunctionCode", "lambda:UpdateFunctionConfiguration"], "Resource": ["arn:aws:lambda:*:688136498438:function:2269-*"]}, {"Sid": "LambdaEventSourceMapping", "Effect": "Allow", "Action": ["lambda:CreateEventSourceMapping", "lambda:UpdateEventSourceMapping", "lambda:DeleteEventSourceMapping"], "Resource": "*", "Condition": {"StringLike": {"lambda:FunctionArn": "arn:aws:lambda:*:688136498438:function:2269-*"}}}, {"Sid": "GetEventSourceMappingAccess", "Effect": "Allow", "Action": ["lambda:GetEventSourceMapping"], "Resource": "*"}, {"Sid": "EBSTaggingAccess", "Effect": "Allow", "Action": ["ec2:CreateTags"], "Resource": "arn:aws:ec2:*:688136498438:volume/*"}, {"Sid": "ElasticacheSecurityGroupCreate", "Effect": "Allow", "Action": ["ec2:CreateSecurityGroup", "ec2:DescribeSecurityGroups", "ec2:DescribeAccountAttributes"], "Resource": "*"}, {"Sid": "ElastiCacheAccess", "Effect": "Allow", "Action": ["elasticache:CreateCacheSubnetGroup", "elasticache:DescribeCacheSubnetGroups", "elasticache:DescribeReplicationGroups", "elasticache:CreateReplicationGroup", "elasticache:ModifyCacheSubnetGroup", "elasticache:ModifyReplicationGroup", "elasticache:DeleteReplicationGroup"], "Resource": "*"}, {"Sid": "ElastiCacheStackDelete", "Effect": "Allow", "Action": ["cloudformation:DeleteStack"], "Resource": "arn:aws:cloudformation:*:688136498438:stack/dev-search-platform-2269-datastore-cache/*"}, {"Sid": "ElastiCacheTaggingAccess", "Effect": "Allow", "Action": ["ec2:CreateTags", "ec2:AuthorizeSecurityGroupIngress"], "Resource": "arn:aws:ec2:*:688136498438:security-group/*"}, {"Sid": "SQSAccess", "Effect": "Allow", "Action": ["sqs:CreateQueue", "sqs:GetQueueAttributes", "sqs:SetQueueAttributes", "sqs:RemoveQueue", "sqs:DeleteQueue", "sqs:AddPermission", "sqs:ListQueues", "sqs:ListQueueTags", "sqs:TagQueue", "sqs:UntagQueue"], "Resource": ["arn:aws:sqs:*:688136498438:2269-*"]}, {"Sid": "AutoScalingAccess", "Effect": "Allow", "Action": ["application-autoscaling:RegisterScalableTarget", "application-autoscaling:DescribeScalableTargets", "application-autoscaling:DeregisterScalableTarget", "application-autoscaling:PutScalingPolicy", "application-autoscaling:DescribeScalingPolicies", "application-autoscaling:DescribeScalingActivities", "application-autoscaling:DeleteScalingPolicy", "application-autoscaling:DescribeScheduledActions"], "Resource": "*"}]}}, {"RoleName": "2269-notify-handler-role", "Policies": {"2269-notify-handler-role-custom-policy": [{"Sid": "LogAccess", "Effect": "Allow", "Action": ["logs:CancelExportTask", "logs:CreateExportTask", "logs:CreateLogGroup", "logs:CreateLogStream", "logs:DescribeDestinations", "logs:DescribeExportTasks", "logs:DescribeLogGroups", "logs:DescribeLogStreams", "logs:DescribeMetricFilters", "logs:DescribeSubscriptionFilters", "logs:FilterLogEvents", "logs:GetLogEvents", "logs:ListTagsLogGroup", "logs:PutDestination", "logs:PutDestinationPolicy", "logs:PutLogEvents", "logs:PutMetricFilter", "logs:PutRetentionPolicy", "logs:PutSubscriptionFilter", "logs:TagLogGroup"], "Resource": "arn:aws:logs:*:*:*"}, {"Sid": "S3Access", "Effect": "Allow", "Action": ["s3:GetObject", "s3:PutObject"], "Resource": ["arn:aws:s3:::dev-searchplatform-content", "arn:aws:s3:::dev-searchplatform-content/*", "arn:aws:s3:::dev-searchplatform-*/*"]}, {"Sid": "KinesisStreamAccess", "Effect": "Allow", "Action": ["kinesis:PutRecords"], "Resource": ["arn:aws:kinesis:*:688136498438:stream/2269-*"]}, {"Sid": "DynamoDbAccess", "Effect": "Allow", "Action": ["dynamodb:GetItem", "dynamodb:BatchGetItem", "dynamodb:Query", "dynamodb:PutItem", "dynamodb:UpdateItem", "dynamodb:DeleteItem", "dynamodb:BatchWriteItem"], "Resource": ["arn:aws:dynamodb:*:688136498438:table/2269-*"]}, {"Sid": "SQSAccess", "Effect": "Allow", "Action": ["sqs:AddPermission", "sqs:ChangeMessageVisibility", "sqs:CreateQueue", "sqs:DeleteMessage", "sqs:DeleteQueue", "sqs:GetQueueAttributes", "sqs:GetQueueUrl", "sqs:ListDeadLetterSourceQueues", "sqs:ListQueues", "sqs:ListQueueTags", "sqs:PurgeQueue", "sqs:ReceiveMessage", "sqs:RemovePermission", "sqs:SendMessage", "sqs:SetQueueAttributes", "sqs:TagQueue", "sqs:UntagQueue"], "Resource": ["arn:aws:sqs:*:688136498438:2269-*"]}]}}, {"RoleName": "2269-NotifyHandlerRole", "Policies": {"AWSLambdaExecute": [{"Effect": "Allow", "Action": ["logs:*"], "Resource": "arn:aws:logs:*:*:*"}, {"Effect": "Allow", "Action": ["s3:GetObject", "s3:PutObject"], "Resource": "arn:aws:s3:::*"}], "NotifyHandlerPolicy": [{"Action": ["kinesis:PutRecords"], "Resource": "arn:aws:kinesis:us-east-1:688136498438:stream/2269-IngestionStream", "Effect": "Allow"}, {"Action": ["dynamodb:GetItem", "dynamodb:BatchGetItem", "dynamodb:Query", "dynamodb:PutItem", "dynamodb:UpdateItem", "dynamodb:DeleteItem", "dynamodb:BatchWriteItem"], "Resource": "arn:aws:dynamodb:us-east-1:688136498438:table/2269-news-DocumentAuditTable", "Effect": "Allow"}, {"Action": ["sqs:*"], "Resource": "arn:aws:sqs:us-east-1:688136498438:2269-DatalakeQueue", "Effect": "Allow"}]}}, {"RoleName": "2269-p-unit-mr", "Policies": {}}]